<!DOCTYPE html>
<html lang="en">
<head>
 <title>Frederik Braun: Finding the SqueezeBox Radio Default SSH Password</title>
 <meta charset="utf-8" />
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
 <link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 200"><style>svg{background-color:%231f54a6;}text{fill:white;font-family:Georgia,Cambria,"Times New Roman",Times,serif;}</style><text y="1.2em" font-size="135">F</text></svg>'>
 <link href="https://vaurenw.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Frederik Braun ATOM Feed" />
 <link href="https://vaurenw.github.io/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Frederik Braun RSS Feed" />
 <meta property="og:site_name" content="Frederik Braun"/>
 <meta property="og:type" content="website"/>
 <meta name="twitter:card" content="summary"/>
 <meta name="description" content="Finding the SqueezeBox Radio Default SSH Password" />
 <meta property="og:title" content="Finding the SqueezeBox Radio Default SSH Password"/>
 <meta property="og:url" content="https://vaurenw.github.io/squeezebox-radio-ssh-default-password.html"/>
 <meta name="twitter:title" content="Finding the SqueezeBox Radio Default SSH Password" />
 <meta name="fediverse:author" content="@freddy@security.plumbing" />
 <link rel="canonical" href="https://vaurenw.github.io/squeezebox-radio-ssh-default-password.html"/>
</head>

<body>
<header class="site-header" role="banner">
<div class="wrapper"><a class="site-title" rel="author" href="/">Frederik Braun</a><nav class="site-nav">
  <input type="checkbox" id="nav-trigger" class="nav-trigger">
  <label for="nav-trigger">
  <span class="menu-icon">
    <svg viewBox="0 0 18 15" width="18px" height="15px">
      <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
    </svg>
  </span>
  </label>
  <div class="trigger">
    <a class="page-link" href="https://vaurenw.github.io/archives.html">Blog</a>
    <a class="page-link" href="https://vaurenw.github.io/pages/publications.html">Portfolio</a>
    <a class="page-link" href="https://vaurenw.github.io/contact.html">Contact</a>
</div>
</nav></div>
</header>

<hr class="tophr">
<div id='wrapper' class="wrapper">
<div id='text1'>
        
<header>
  <h1>Finding the SqueezeBox Radio Default SSH Password</h1>
  <time datetime="2016-09-02T00:00:00+02:00">Fri 02 September 2016</time>
</header>
<article>
    <h2>TLDR:</h2>
<p>If SSH is enabled in the advanced settings, you can just login with the default password <strong>1234</strong>.</p>
<p>Given the age of the installed SSH daemon, you will likely have to enable legacy cryptography like so:</p>
<div class="highlight"><pre><span></span><code><span class="nx">ssh</span><span class="w"> </span><span class="o">-</span><span class="nx">oKexAlgorithms</span><span class="p">=</span><span class="o">+</span><span class="nx">diffie</span><span class="o">-</span><span class="nx">hellman</span><span class="o">-</span><span class="nx">group1</span><span class="o">-</span><span class="nx">sha1</span><span class="w"> </span><span class="o">-</span><span class="nx">c</span><span class="w"> </span><span class="nx">aes256</span><span class="o">-</span><span class="nx">cbc</span><span class="w"> </span><span class="o">-</span><span class="nx">oHostKeyAlgorithms</span><span class="p">=</span><span class="o">+</span><span class="nx">ssh</span><span class="o">-</span><span class="nx">dss</span><span class="w">  </span><span class="o">-</span><span class="nx">l</span><span class="w"> </span><span class="nx">root</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">ip</span><span class="w"> </span><span class="nx">address</span><span class="p">&gt;</span>
</code></pre></div>

<p>Read on if you want to find out how I managed to <em>crack</em> the password, because I did not find the <a href="http://wiki.slimdevices.com/index.php/Squeezebox_SSH_public_key_authentication">existing documentation on Squeezebox SSH access</a>.</p>
<h2>Prelude</h2>
<p>I have a SqueezeBox Radio at home. It does a nice job of playing music from the internet and from my local network.
The radio is clearly a linux device and it even listens on port 22. But I don't have the password and this always bummed me.
I can stream music to the radio from my local network using the logitech media server software.
When migrating server hardware, I looked around what to keep and noticed an <code>updates</code> folder in <code>/var/lib/squeezeboxserver</code>.
It turns out, that when the radio asks for updates, the local server is in charge of getting the update file and providing it
to the radio.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ls<span class="w"> </span>updates/
baby_7.7.3_r16676.bin<span class="w">  </span>baby.version
$<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span>updates/
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>freddy<span class="w"> </span>freddy<span class="w"> </span><span class="m">14771422</span><span class="w"> </span>Sep<span class="w">  </span><span class="m">2</span><span class="w"> </span><span class="m">07</span>:54<span class="w"> </span>baby_7.7.3_r16676.bin
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>freddy<span class="w"> </span>freddy<span class="w">      </span><span class="m">139</span><span class="w"> </span>Sep<span class="w">  </span><span class="m">2</span><span class="w"> </span><span class="m">07</span>:53<span class="w"> </span>baby.version
$<span class="w"> </span>cat<span class="w"> </span>updates/baby.version
<span class="m">7</span>.7.3<span class="w"> </span>r16676
root@ec2mbubld01.idc.logitech.com<span class="w"> </span>Fri<span class="w"> </span>Feb<span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">09</span>:25:26<span class="w"> </span>PST<span class="w"> </span><span class="m">2014</span>
Base<span class="w"> </span>build<span class="w"> </span>revision:<span class="w">  </span>bad080aecfec8226a4c1699b29d32cbba4ba396b
$<span class="w"> </span>file<span class="w"> </span>updates/*
updates/baby_7.7.3_r16676.bin:<span class="w"> </span>Zip<span class="w"> </span>archive<span class="w"> </span>data,<span class="w"> </span>at<span class="w"> </span>least<span class="w"> </span>v2.0<span class="w"> </span>to<span class="w"> </span>extract
updates/baby.version:<span class="w">          </span>ASCII<span class="w"> </span>text
</code></pre></div>

<p>So, not knowing this, I had the firmware information on my disk all along? It is on.</p>
<h2>Understanding the Firmware Update</h2>
<p>This turned out very simple and accessible. Thanks Logitech!
Unzipping yields multiple files, among them text files with metadata a <code>zImage</code> (~2.8M) and <code>root.cramfs</code> (13M).
Alright, let's mount the root filesystem and take a look around</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>mount<span class="w"> </span>-o<span class="w"> </span>loop<span class="w"> </span>root.cramfs<span class="w"> </span>/mnt/
$<span class="w"> </span>cat<span class="w"> </span>/etc/shadow
root:<span class="nv">$1$Ubbe0</span>.Et<span class="nv">$fxA9h74pN</span>/qDu12VAGZca1:13826:0:99999:7:::
nobody:*:14062:0:99999:7:::
</code></pre></div>

<p>Asking a search engine yields nothing, so we have to crack it ourselves. Running <code>john</code> on this takes less than a second.</p>
<p>The password is <strong>1234</strong></p>
<h2>Logging in</h2>
<p>Logging in is a bit harder than it seems. The radio uses ancient SSH, which offers outdated legacy ciphers:</p>
<div class="highlight"><pre><span></span><code>ssh  192.168.x.y -l root
Unable to negotiate with 192.168.x.y port 22: no matching key exchange method found. Their offer: diffie-hellman-group1-sha1
</code></pre></div>

<p>A quick search shows that we can re-enable the legacy crypto:</p>
<div class="highlight"><pre><span></span><code><span class="n">$</span><span class="w"> </span><span class="n">ssh</span><span class="w"> </span><span class="o">-</span><span class="n">oKexAlgorithms</span><span class="o">=+</span><span class="n">diffie</span><span class="o">-</span><span class="n">hellman</span><span class="o">-</span><span class="n">group1</span><span class="o">-</span><span class="n">sha1</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">aes256</span><span class="o">-</span><span class="n">cbc</span><span class="w"> </span><span class="o">-</span><span class="n">oHostKeyAlgorithms</span><span class="o">=+</span><span class="n">ssh</span><span class="o">-</span><span class="n">dss</span><span class="w"> </span><span class="o">-</span><span class="n">l</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="o">&lt;</span><span class="n">ip</span><span class="w"> </span><span class="n">address</span><span class="o">&gt;</span>
<span class="n">root</span><span class="mf">@192.168</span><span class="p">.</span><span class="n">x</span><span class="p">.</span><span class="n">y</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">password</span><span class="o">:</span>

<span class="n">This</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">authorized</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">only</span><span class="p">.</span><span class="w"> </span><span class="n">Unauthorized</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">improper</span><span class="w"> </span><span class="n">use</span>
<span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">hearing</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">bad</span><span class="w"> </span><span class="n">music</span><span class="p">.</span><span class="w"> </span><span class="n">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">consent</span>
<span class="n">to</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">terms</span><span class="p">,</span><span class="w"> </span><span class="n">LOG</span><span class="w"> </span><span class="n">OFF</span><span class="w"> </span><span class="n">IMMEDIATELY</span><span class="p">.</span>

<span class="n">Ha</span><span class="p">,</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">joking</span><span class="p">.</span><span class="w"> </span><span class="n">Now</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">logged</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">feel</span><span class="w"> </span><span class="n">free</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">password</span>
<span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="err">&#39;</span><span class="n">passwd</span><span class="err">&#39;</span><span class="w"> </span><span class="n">command</span><span class="p">.</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">safely</span><span class="w"> </span><span class="n">modify</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">this</span>
<span class="n">system</span><span class="p">.</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">factory</span><span class="w"> </span><span class="n">reset</span><span class="w"> </span><span class="p">(</span><span class="n">press</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">hold</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">on</span><span class="p">)</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">your</span>
<span class="n">modifications</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">revert</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">installed</span><span class="w"> </span><span class="n">firmware</span><span class="p">.</span>

<span class="n">Enjoy</span><span class="o">!</span>
</code></pre></div>

<p>And that's it. Have fun with your full root privileges!</p>
</article>

<hr>

<section id="minicontact">
<em>
<!-- Please comment on <a href="https://social.security.plumbing/@freddy">Mastodon</a>. -->
If you find a mistake in this article, you can <a href="https://github.com/freddyb/homepage/edit/main/content/squeezebox-radio-ssh.md">submit a pull request on GitHub</a>.
</em>
</section>

<section id="article-list">
<h4>Recent posts</h4>
<ol>
  <li><a href="https://vaurenw.github.io/madweb-keynote-2025.html">With Carrots & Sticks - Can the browser handle web security?</a>
    <em>(Tue 08 April 2025)</em>
  </li>
  <li><a href="https://vaurenw.github.io/home-assistant-can-not-be-secured-for-internet-access.html">Home assistant can not be secured for internet access</a>
    <em>(Sun 15 December 2024)</em>
  </li>
  <li><a href="https://vaurenw.github.io/modern-solutions-xsleaks.html">Modern solutions against cross-site attacks</a>
    <em>(Tue 26 November 2024)</em>
  </li>
  <li><a href="https://vaurenw.github.io/prompt-injections-and-a-demo.html">Prompt Injections and a demo</a>
    <em>(Wed 18 September 2024)</em>
  </li>
  <li><a href="https://vaurenw.github.io/mozilla-monument.html">The Mozilla Monument in San Francisco</a>
    <em>(Fri 05 July 2024)</em>
  </li>
            
</ol>
</section>
</div>
</div>
</body>
</html>